@model IEnumerable<PassionProject.Models.PropertyListingDto>
@{
    ViewBag.Title = "Properties Listing";
}
<style>
    .listing-img {
        width: 100%;
        height: 400px;
        object-fit: cover;
    }
    @@media (min-width: 600px) {
            .listing-img {
                max-width: 60%;
            }
        }
</style>
<div class="container-fluid">
    <div class="row mt-3">
        <div class="col-md-3">
            <div class="search-container">
                <h5>Filter Properties</h5>
                <form>
                    <div class="form-group">
                        <label for="searchBedrooms">Type</label>
                        <select class="form-control" id="searchBedrooms">
                            <option>Any</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4+</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="searchLocation">Location</label>
                        <input type="text" class="form-control" id="searchLocation" placeholder="Enter location">
                    </div>
                    <div class="form-group">
                        <label for="minPrice">Min Price</label>
                        <input type="number" class="form-control" id="minPrice" placeholder="Enter min price">
                    </div>
                    <div class="form-group">
                        <label for="maxPrice">Max Price</label>
                        <input type="number" class="form-control" id="maxPrice" placeholder="Enter max price">
                    </div>
                    <div class="form-group">
                        <label for="searchBedrooms">Number of Bedrooms</label>
                        <select class="form-control" id="searchBedrooms">
                            <option>Any</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4+</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary mt-2">Filter</button>
                </form>
            </div>
        </div>
        <div class="col-md-9">
            <div class="row">
                @foreach (var item in Model)
                {
                    <div class="col-md-12">
                        <div class="card property-card flex-md-row">
                            @if (item.MediaItems != null && item.MediaItems.Count > 0)
                            {
                                <img src="@item.MediaItems.First().Url" class="card-img-top img-fluid listing-img" alt="Property Image">
                            }
                            else
                            {
                                <img src="https://via.placeholder.com/450" height="200" width="150" class="card-img-top listing-img" alt="Property Image">
                            }
                            <div class="card-body">
                                <a href="/Home/Details?slug=@item.Slug"><h5 class="card-title">@item.Name</h5></a>
                                <p class="card-text">@item.Type</p>
                                <p class="card-text">@item.Description</p>
                                <p class="card-text"><strong>Bedrooms:</strong> @item.NoBedRooms</p>
                            </div>
                        </div>
                    </div>
                }

                @if (Model.Count() == 0)
                {
                    <h5> No items found</h5>
                }


                <!-- Add more property cards as needed -->
            </div>
        </div>
    </div>
</div>


<style>
    .container-fluid {
        height: 100%;
        display: flex;
        flex-direction: column;
        max-width: 100%
    }

    .search-container {
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 5px;
    }

    .property-card {
        margin-bottom: 20px;
        cursor: pointer;
        transition: transform 0.2s ease-in-out;
    }

        .property-card:hover {
            transform: scale(1.03);
        }
</style>